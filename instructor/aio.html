<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>Write Readable Code: All in One View</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="../assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="../assets/styles.css">
<script src="../assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="../favicons/incubator/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicons/incubator/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../favicons/incubator/favicon-16x16.png">
<link rel="manifest" href="../favicons/incubator/site.webmanifest">
<link rel="mask-icon" href="../favicons/incubator/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="white">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="black">
</head>
<body>
    <header id="top" class="navbar navbar-expand-md top-nav incubator"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="incubator-logo" alt="Carpentries Incubator" src="../assets/images/incubator-logo.svg"><span class="badge text-bg-danger">
          <abbr title="This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.">
            <a href="https://docs.carpentries.org/resources/curriculum/lesson-life-cycle.html" class="external-link alert-link">
              <i aria-hidden="true" class="icon" data-feather="alert-octagon" style="border-radius: 5px"></i>
              Pre-Alpha
            </a>
            <span class="visually-hidden">This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.</span>
          </abbr>
        </span>

      </div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text">
<li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul>
</li>
      </div>


      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
<li><button class="dropdown-item" type="button" onclick="window.location.href='../aio.html';">Learner View</button></li>
        </ul>
</div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav incubator" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Carpentries Incubator" src="../assets/images/incubator-logo-sm.svg">
</div>
    <div class="lesson-title-md">
      Write Readable Code
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item">
          <span class="lesson-title">
            Write Readable Code
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/instructor-notes.html">Instructor Notes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/images.html">Extract All Images</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
<hr>
<li><a class="dropdown-item" href="reference.html">Reference</a></li>
          </ul>
</li>
      </ul>
</div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="../instructor/aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div>
<!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Write Readable Code
</div>

<aside class="col-md-12 lesson-progress"><div style="width: %" class="percentage">
    %
  </div>
  <div class="progress incubator">
    <div class="progress-bar incubator" role="progressbar" style="width: %" aria-valuenow="" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text">
<li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul>
</li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="../aio.html">Learner View</a>
                      </div>
                    </div>
                  </div>
<!--/div.accordion-item-->
                </div>
<!--/div.accordion-flush-->
              </div>
<!--div.sidenav-view-selector -->
            </div>
<!--/div.col -->

            <hr>
</div>
<!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Schedule</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="Episode1.html">1. Write Readable Code</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="Episode2.html">2. Write Elegant Code</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="Episode3.html">3. Write Robust Code</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="Episode4.html">4. Write Reliable Code</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width">
<div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul>
<li>
                        <a href="../instructor/key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="../instructor/instructor-notes.html">Instructor Notes</a>
                      </li>
                      <li>
                        <a href="../instructor/images.html">Extract All Images</a>
                      </li>
                      <hr>
<li><a class="dropdown-item" href="reference.html">Reference</a></li>
                    </ul>
</div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources">
<a href="../instructor/aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none">
<div class="d-grid gap-1">

            </div>
          </div>
<!-- /div.accordion -->
        </div>
<!-- /div.sidebar-inner -->
      </nav>
</div>
<!-- /div.sidebar -->
  </div>
<!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-extra.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <main id="main-content" class="main-content"><div class="container lesson-content">
        
        
<section id="aio-Episode1"><p>Content from <a href="Episode1.html">Write Readable Code</a></p>
<hr>
<p>Last updated on 2026-01-06 |

        <a href="https://github.com/carpentries-incubator/write-readable-code/edit/main/episodes/Episode1.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 17 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What is readable code?</li>
<li>Why invest effort in writing readable code?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Define readable code</li>
<li>What is the difference between readable and unreadable code</li>
<li>What to think when writing code for people to read</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<hr class="half-width">
<p>The expression <em>readable code</em> might sound strange at first.
Code is meant to be written and executed, right? Why should it be
readable? After all, code is for a machine to perform, and a machine
does not “read” as we do. So why bother?</p>
<p>The untold truth is that whenever someone wants to add a new feature
or modify an existing one, they need to understand how the existing code
works first, so they need to read the code to see how it works. That
person might be another developer or collaborator, or it might be you
months later. If a code is messy, unstructured and without
documentation, reading and understanding it becomes more complicated and
time-consuming. On the other hand, well-written code reads like a
well-written novel: easy to follow and easy to understand.</p>
<p>So, writing readable code from scratch reduces the need for extensive
explanations later.</p>
<div id="accordionInstructor1" class="accordion instructor-note accordion-flush">
<div class="accordion-item">
<button class="accordion-button instructor-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseInstructor1" aria-expanded="false" aria-controls="collapseInstructor1">
  <h3 class="accordion-header" id="headingInstructor1">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="edit-2"></i></div> Instructor Note </h3>
</button>
<div id="collapseInstructor1" class="accordion-collapse collapse" aria-labelledby="headingInstructor1" data-bs-parent="#accordionInstructor1">
<div class="accordion-body">
<p>Ask the learners about what they think about the following code. The
point is to make them read it and tell how easy/difficult it is. The
function visualizes a spiral, where the radius of each point increases
linearly from the centre outward, and the points are positioned
according to their respective angles in the given input array. To guide
the discussion, use some of the following questions What do you think
this code does? - Can you use it? - What do r, x, and y represent in
this code? Are these names intuitive? What to point out: - There is no
information about the input parameter: should it be a list? A single
value? - The names of the function, variables are poorly chosen. - The
function does not handle the output well. It creates points in polar
coordinates, but it does not return them. It shows the plot without
returning it or allowing for extra steps. d To run the function (if
necessary):</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>t <span class="op">=</span> np.linspace(<span class="dv">0</span>,<span class="dv">4</span><span class="op">*</span>np.pi, <span class="dv">1000</span>)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>f(t)</span></code></pre>
</div>
<p><strong>Suggestion</strong>: Take note of the main points you might
need for the following discussions.</p>
</div>
</div>
</div>
</div>
<div id="discussion-what-do-you-think-about-the-following-code" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<span class="callout-header">Discussion</span>
<div id="discussion-what-do-you-think-about-the-following-code" class="callout-inner">
<h3 class="callout-title">Discussion: What do you think about the
following code?</h3>
<div class="callout-content">
<p>Without additional context, can you easily understand what the
function is intended to do?</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="kw">def</span> f(t):</span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>  r <span class="op">=</span> np.linspace(<span class="dv">0</span>,<span class="dv">1</span>,<span class="bu">len</span>(t))</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a>  x <span class="op">=</span> r <span class="op">*</span> np.cos(t)</span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a>  y <span class="op">=</span> r <span class="op">*</span> np.sin(t)</span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a>  plt.plot(x,y)</span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a>  plt.show()</span></code></pre>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="what-is-readable-code">What is <strong>readable code</strong>?<a class="anchor" aria-label="anchor" href="#what-is-readable-code"></a>
</h2>
<hr class="half-width">
<p>A readable code is a code that clearly shows what it does and why
without much effort. To make our code readable, we should focus on</p>
<ul>
<li>
<strong>Clarity</strong>: Everything in the code, from variable
names to functions, is straightforward and unambiguous.</li>
<li>
<strong>Simplicity</strong>: It should be as simple as
possible.</li>
<li>
<strong>Structure</strong>: The code should be well organised into
sections (e.g. functions, modules).</li>
<li>
<strong>Minimal redundancy</strong>: Reducing code duplications
makes the code more efficient and easier to modify.</li>
<li>
<strong>Documentation</strong>: Writing clear code is the first
step, but it does not always explain the “why” behind it. In-line
comments or external documentation might explain the reasoning and
intent.</li>
</ul>
<div id="discussion-what-would-you-do-to-improve-the-following-code" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<span class="callout-header">Discussion</span>
<div id="discussion-what-would-you-do-to-improve-the-following-code" class="callout-inner">
<h3 class="callout-title">Discussion: What would you do to improve the
following code?</h3>
<div class="callout-content">
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="kw">def</span> f(t):</span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>  r <span class="op">=</span> np.linspace(<span class="dv">0</span>,<span class="dv">1</span>,<span class="bu">len</span>(t))</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>  x <span class="op">=</span> r <span class="op">*</span> np.cos(t)</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a>  y <span class="op">=</span> r <span class="op">*</span> np.sin(t)</span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a>  plt.plot(x,y)</span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a>  plt.show()</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionInstructor2" class="accordion instructor-note accordion-flush">
<div class="accordion-item">
<button class="accordion-button instructor-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseInstructor2" aria-expanded="false" aria-controls="collapseInstructor2">
  <h3 class="accordion-header" id="headingInstructor2">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="edit-2"></i></div> Instructor Note </h3>
</button>
<div id="collapseInstructor2" class="accordion-collapse collapse" aria-labelledby="headingInstructor2" data-bs-parent="#accordionInstructor2">
<div class="accordion-body">
<p><strong>Require Live coding</strong> The aim of the above discussion
is to modify and improve the code together, focusing on the points
identified in the previous discussion. The simpler solution might be
just to focus on the names and add some comments.</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co">#Plot a spiral in polar coordianate</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="co">#for a given list of theta values</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="kw">def</span> plot_spiral(theta):</span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>  <span class="co"># Creates an array of evenly spaced radius values from 0 to 1. </span></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a>  <span class="co"># The final array has the same number of element than theta</span></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a>  radius <span class="op">=</span> np.linspace(<span class="dv">0</span>,<span class="dv">1</span>,<span class="bu">len</span>(theta)) </span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a>  <span class="co"># Converts polar coordinates to Cartesian</span></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a>  x_coordinate <span class="op">=</span> radius <span class="op">*</span> np.cos(theta)</span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a>  y_coordinate <span class="op">=</span> radius <span class="op">*</span> np.sin(theta)</span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a>  plt.plot(x_coordinate,y_coordinate)</span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a>  plt.show()</span></code></pre>
</div>
<p>The point is to show that simple modification can improve code
readability.</p>
<p>A better version can be:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="co"># Calculate polar coordinate for an array of angles.</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a><span class="kw">def</span> calculate_polarcoordinate(theta): <span class="co">#Meaningful names: changed names of the function and input argument</span></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a></span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a>  <span class="co"># Creates an array of evenly spaced radius values from 0 to 1. </span></span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a>  <span class="co"># The final array has the same number of element than theta</span></span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a>  radius <span class="op">=</span> np.linspace(<span class="dv">0</span>,<span class="dv">1</span>,<span class="bu">len</span>(theta))</span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a>  <span class="co"># Converts polar coordinates to Cartesian</span></span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a>  x_coordinate <span class="op">=</span> radius <span class="op">*</span> np.cos(theta)</span>
<span id="cb5-13"><a href="#cb5-13" tabindex="-1"></a>  y_coordinate <span class="op">=</span> radius <span class="op">*</span> np.sin(theta)</span>
<span id="cb5-14"><a href="#cb5-14" tabindex="-1"></a>  </span>
<span id="cb5-15"><a href="#cb5-15" tabindex="-1"></a>  <span class="cf">return</span> x_coordinate, y_coordinate <span class="co">#Better output handling</span></span>
<span id="cb5-16"><a href="#cb5-16" tabindex="-1"></a></span>
<span id="cb5-17"><a href="#cb5-17" tabindex="-1"></a><span class="co">#plot a spiral in polar coordinate</span></span>
<span id="cb5-18"><a href="#cb5-18" tabindex="-1"></a><span class="kw">def</span> visualise_spiral_polar_coordinates(x_coordinate,y_coordinate): <span class="co">#split data and visualisation</span></span>
<span id="cb5-19"><a href="#cb5-19" tabindex="-1"></a></span>
<span id="cb5-20"><a href="#cb5-20" tabindex="-1"></a>  plt.plot(x_coordinate, y_coordinate)</span>
<span id="cb5-21"><a href="#cb5-21" tabindex="-1"></a>  plt.xlabel(<span class="st">'x'</span>)</span>
<span id="cb5-22"><a href="#cb5-22" tabindex="-1"></a>  plt.ylabel(<span class="st">'y'</span>)</span>
<span id="cb5-23"><a href="#cb5-23" tabindex="-1"></a>  plt.title(<span class="st">'Spiral in Polar Coordinates'</span>)</span>
<span id="cb5-24"><a href="#cb5-24" tabindex="-1"></a>  plt.show() </span></code></pre>
</div>
<p><strong>Focus on the change</strong>:</p>
<ul>
<li>Better variable and function names make the code
self-explanatory</li>
<li>Separation of Concern: The original function has been split in two
so that it is clear what happens</li>
<li>Let them focus on the fact that the <code>radius</code> definition
depends on two magic numbers, 0 and 1.</li>
<li>This example can be used to introduce the DRY and SoC
principles.</li>
</ul>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="why-does-structured-code-improve-readability">Why does structured code improve readability?<a class="anchor" aria-label="anchor" href="#why-does-structured-code-improve-readability"></a>
</h2>
<hr class="half-width">
<p>Imagine reading a document like the one below</p>
<div id="section" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="section" class="callout-inner">
<h3 class="callout-title"></h3>
<div class="callout-content">
<p>This is a document that has no punctuation or structure it just keeps
going on and on without any breaks or organization the words run
together endlessly making it very difficult to understand what the
author is trying to communicate the text flows continuously without any
separation between ideas or concepts it becomes increasingly hard to
follow the train of thought as the words keep flowing together in an
endless stream of characters without any visual breaks or formatting to
help guide the reader through the content The text is a continuous,
unbroken sequence of words. It might contain the most deep
considerations or be the most interesting document, but reading it is
hard. The challenge is to find specific information, where one idea
starts or ends. To modify this wall of words is even more complex: how
can you be sure that changes will not affect another part?</p>
</div>
</div>
</div>
<p>This unstructured text is how unstructured code appears. Just as this
text lacks punctuation, paragraphs, and formatting, unstructured code
lacks modular organization, clear separation of functions, and logical
flow control that makes structured code readable and maintainable.</p>
<p>Several coding design principles can help create structured code.
These principles provide guidelines on what to consider and avoid when
creating code. Among all, two shine for simplicity and
effectiveness:</p>
<ul>
<li><p><strong>Separation of Concern</strong> (<strong>SoC</strong>):
This design principle separates a program into distinct sections. Each
section (e.g., function or module) does one thing only, and it should be
able to work independently. SoC helps create a clear code structure,
improving the code readability and reusability. Indeed, each component
can be reused across different parts of the code and projects.</p></li>
<li><p><strong>DRY</strong>: DRY stands for “Don’t Repeat Yourself”. The
statement is clear: Each piece of code should only appear once. Code
duplications are nightmares. Every time something needs to change, the
changes must be applied in different parts of the codebase. When common
logic is extracted into reusable components, any changes will only
happen in one place, improving the maintainability of the code.</p></li>
</ul>
<p>Let’s see an example of how applying these two principles improves
the code.</p>
<div id="from-unstructured-to-structured-code" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<span class="callout-header">Discussion</span>
<div id="from-unstructured-to-structured-code" class="callout-inner">
<h3 class="callout-title">From unstructured to structured code</h3>
<div class="callout-content">
<p>The code below generate two datasets of points and apply linear
regression.</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a><span class="co"># Dataset 1</span></span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a>X <span class="op">=</span> np.array([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>])</span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a>y <span class="op">=</span> <span class="dv">2</span> <span class="op">*</span> X <span class="op">+</span> <span class="dv">1</span> <span class="op">+</span> np.random.normal(<span class="dv">0</span>, <span class="fl">0.5</span>, <span class="bu">len</span>(X))</span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a><span class="co"># Calculate coefficients using np.linalg</span></span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a>A <span class="op">=</span> np.vstack([X, np.ones(<span class="bu">len</span>(X))]).T</span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a>coefficients <span class="op">=</span> np.linalg.lstsq(A, y, rcond<span class="op">=</span><span class="va">None</span>)[<span class="dv">0</span>]</span>
<span id="cb6-12"><a href="#cb6-12" tabindex="-1"></a>m, b <span class="op">=</span> coefficients</span>
<span id="cb6-13"><a href="#cb6-13" tabindex="-1"></a></span>
<span id="cb6-14"><a href="#cb6-14" tabindex="-1"></a></span>
<span id="cb6-15"><a href="#cb6-15" tabindex="-1"></a><span class="co"># Dataset 2 </span></span>
<span id="cb6-16"><a href="#cb6-16" tabindex="-1"></a>X1 <span class="op">=</span> np.array([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>])</span>
<span id="cb6-17"><a href="#cb6-17" tabindex="-1"></a>y1 <span class="op">=</span> <span class="fl">1.5</span> <span class="op">*</span> X1 <span class="op">+</span> <span class="fl">0.5</span> <span class="op">+</span> np.random.normal(<span class="dv">0</span>, <span class="fl">0.5</span>, <span class="bu">len</span>(X))</span>
<span id="cb6-18"><a href="#cb6-18" tabindex="-1"></a></span>
<span id="cb6-19"><a href="#cb6-19" tabindex="-1"></a>A1 <span class="op">=</span> np.vstack([X1, np.ones(<span class="bu">len</span>(X1))]).T</span>
<span id="cb6-20"><a href="#cb6-20" tabindex="-1"></a>coefficients1 <span class="op">=</span> np.linalg.lstsq(A1, y1, rcond<span class="op">=</span><span class="va">None</span>)[<span class="dv">0</span>]</span>
<span id="cb6-21"><a href="#cb6-21" tabindex="-1"></a>m1, b1 <span class="op">=</span> coefficients1</span>
<span id="cb6-22"><a href="#cb6-22" tabindex="-1"></a></span>
<span id="cb6-23"><a href="#cb6-23" tabindex="-1"></a></span>
<span id="cb6-24"><a href="#cb6-24" tabindex="-1"></a><span class="co"># Verify all calculations give same result</span></span>
<span id="cb6-25"><a href="#cb6-25" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Case 1: Slope: = "</span>,<span class="bu">round</span>(m,<span class="dv">4</span>),<span class="st">"intercept ="</span>,<span class="bu">round</span>(b,<span class="dv">4</span>))</span>
<span id="cb6-26"><a href="#cb6-26" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Case 2: Slope: = "</span>,<span class="bu">round</span>(m1,<span class="dv">4</span>),<span class="st">"intercept ="</span>,<span class="bu">round</span>(b1,<span class="dv">4</span>))</span></code></pre>
</div>
<p>The code works as expected and appears straightforward but violates
both principles. Let us see why.</p>
<p><strong>DRY Principle violations</strong></p>
<p>The code that creates the two arrays <code>X</code> and
<code>X1</code> is the same; this means that if we need to change one
array, we need to apply the changes twice. Similarly, the code that
calculates the slope and intercepts is repeated for both datasets.</p>
<p><strong>SoC Principle violations</strong></p>
<p>Although the operations appear sequentially, the code has no clear
structure. They depend on the previous one, meaning that changing one
part of the code will change everything else, so code blocks are not
independent. Also, the concerns are mixed together with no clear
separation.</p>
<p>These violations generate a lot of problems: what if you need to
reuse the code? What if you need to apply to a different dataset? What
if you need to repeat the same calculation for 100 datasets? Would any
of these modifications be easy?</p>
<p>Below, a different version of the code that tries to correct these
violations is presented.</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a><span class="co"># Generate Y data using linear equation y=mx+b with Gaussian noise </span></span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a><span class="kw">def</span> generate_data(x_values, slope, intercept):</span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a>    </span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a>    y_values <span class="op">=</span> slope <span class="op">*</span> x_values <span class="op">+</span> intercept <span class="op">+</span> np.random.normal(<span class="dv">0</span>, <span class="fl">0.5</span>, <span class="bu">len</span>(x_values)) </span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a>    <span class="cf">return</span> y_values</span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a></span>
<span id="cb7-11"><a href="#cb7-11" tabindex="-1"></a><span class="co"># Get linear regression coefficient</span></span>
<span id="cb7-12"><a href="#cb7-12" tabindex="-1"></a><span class="kw">def</span> fit_linear_regression(x_values, y_values):</span>
<span id="cb7-13"><a href="#cb7-13" tabindex="-1"></a>    A <span class="op">=</span> np.vstack([X, np.ones(<span class="bu">len</span>(x_values))]).T</span>
<span id="cb7-14"><a href="#cb7-14" tabindex="-1"></a>    coefficients <span class="op">=</span> np.linalg.lstsq(A, y_values, rcond<span class="op">=</span><span class="va">None</span>)[<span class="dv">0</span>] </span>
<span id="cb7-15"><a href="#cb7-15" tabindex="-1"></a>    <span class="cf">return</span> </span>
<span id="cb7-16"><a href="#cb7-16" tabindex="-1"></a>    </span>
<span id="cb7-17"><a href="#cb7-17" tabindex="-1"></a><span class="co"># Usage</span></span>
<span id="cb7-18"><a href="#cb7-18" tabindex="-1"></a>base_X <span class="op">=</span> np.array([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>])</span>
<span id="cb7-19"><a href="#cb7-19" tabindex="-1"></a>case1_y <span class="op">=</span> generate_data(base_X, <span class="fl">2.0</span>, <span class="fl">1.0</span>)</span>
<span id="cb7-20"><a href="#cb7-20" tabindex="-1"></a>case2_y <span class="op">=</span> generate_data(base_X, <span class="fl">1.5</span>, <span class="fl">0.5</span>)</span>
<span id="cb7-21"><a href="#cb7-21" tabindex="-1"></a></span>
<span id="cb7-22"><a href="#cb7-22" tabindex="-1"></a>m, b <span class="op">=</span> fit_linear_regression(base_X, case1_y)</span>
<span id="cb7-23"><a href="#cb7-23" tabindex="-1"></a>verify_coefficients(m, b)</span>
<span id="cb7-24"><a href="#cb7-24" tabindex="-1"></a></span>
<span id="cb7-25"><a href="#cb7-25" tabindex="-1"></a>m1, b1 <span class="op">=</span> fit_linear_regression(base_X, case2_y)</span>
<span id="cb7-26"><a href="#cb7-26" tabindex="-1"></a>verify_coefficients(m1, b1)</span></code></pre>
</div>
<p>This new version uses a single data generation function for both
cases and a single linear regression function that can be applied to
both datasets. These two functions fix all the DRY violations. At the
same time, they also solve the SoC violations: each new function has one
scope and clearly separates the data generations and model fittings.</p>
<p>This improved structure makes the code more maintainable, testable,
and easier to extend while eliminating redundant calculations and mixed
responsibilities.</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="tips">Tips<a class="anchor" aria-label="anchor" href="#tips"></a>
</h2>
<hr class="half-width">
<p>By writing code for people to read, you improve the maintainability
and usability of your code. This ensures that others (and your future
self) can easily understand, modify, and extend the code.</p>
<p>Writing readable code requires a bit more effort, but there are a few
tips that make it simpler like: - <strong>Be kind with your future
self</strong> you will thereby also be kind to others who come to your
code. - <strong>Use meaningful variable names</strong>. - <strong>Break
down complex functions into smaller functions</strong>. - <strong>Add
comments to explain the “why” behind your code</strong>.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul>
<li>
<strong>Clarity</strong>: Make sure your code is easy to
understand.</li>
<li>
<strong>Simplicity</strong>: Keep the code simple and avoid
unnecessary complexity.</li>
<li>
<strong>Structure</strong>: Organize your code well (e.g., use
functions, classes, and modules appropriately).</li>
<li>
<strong>Minimal Redundancy</strong>: Avoid code duplication to
improve efficiency.</li>
<li>
<strong>Documentation</strong>: Add comments to clarify the logic
and intent behind your code.</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-Episode2"><p>Content from <a href="Episode2.html">Write Elegant Code</a></p>
<hr>
<p>Last updated on 2026-01-06 |

        <a href="https://github.com/carpentries-incubator/write-readable-code/edit/main/episodes/Episode2.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 10 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>Why is it important to choose meaningful names in your code?</li>
<li>What are some good practices for naming variables and
functions?</li>
<li>How can meaningful names improve the maintainability and readability
of code?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Understand the importance of choosing meaningful names in
coding.</li>
<li>Learn best practices for naming variables, functions, classes, and
modules.</li>
<li>Improve the readability and maintainability of your code by choosing
clear and descriptive names.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>Similarly to well-written prose, elegant code communicates its intent
clearly, making it easy to read and understand. Like writers who
carefully choose words to craft compelling prose, programmers should
select names for variables, functions, and classes to create readable
and maintainable code.<br>
In this episode, we’ll explore the art of crafting meaningful names that
make your code functional and a pleasure to work with.</p>
<section><h2 class="section-heading" id="the-importance-of-meaningful-names">The importance of meaningful names<a class="anchor" aria-label="anchor" href="#the-importance-of-meaningful-names"></a>
</h2>
<hr class="half-width">
<p>In coding, names are everywhere. We need to name variables,
functions, classes and files, and we do that as soon as we open the
editor. However, rarely do we invest time in choosing <em>good
names</em>. We tend to choose names that make sense to us, following our
intuition or understanding of the problem. But would these names make
sense to someone else?</p>
<p>Variable names serve as the first indicator of what the code does,
providing initial answers to key questions: what it does, how it works,
and why it exists.</p>
<p>Consider the following code</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>a <span class="op">=</span> <span class="dv">100</span> </span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>b <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>c <span class="op">=</span> a<span class="op">/</span>b</span></code></pre>
</div>
<p>Without context, you can only understand that <code>c</code> is the
ratio between the other variables (<code>a</code> and <code>b</code>).
Nothing tells you why <code>c</code> is defined this way, what the
code’s intention is, and so on. It can be anything.</p>
<p>One can argue that you can improve the code by adding comments. For
example</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>a <span class="op">=</span> <span class="dv">100</span> <span class="co">#distance in km</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>b <span class="op">=</span> <span class="dv">2</span> <span class="co">#time in hour</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>c <span class="op">=</span> a<span class="op">/</span>b <span class="co">#velocity in km/hour</span></span></code></pre>
</div>
<p>On the other hand, by simply changing the names of the variables, you
achieve the same goal without adding unnecessary comments.</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>distance <span class="op">=</span> <span class="dv">100</span>  <span class="co"># in km</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>time <span class="op">=</span> <span class="dv">2</span> <span class="co"># in hour</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>velocity <span class="op">=</span> distance<span class="op">/</span>time <span class="co"># in km/hour</span></span></code></pre>
</div>
<p>In the code above, comments are used only to provide extra
information that cannot be inferred by the code alone.</p>
<div id="callout1" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div class="callout-inner">
<div class="callout-content">
<p>If a name requires a comment, it is not a good name</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="guidelines-to-choose-good-names">Guidelines to choose good names<a class="anchor" aria-label="anchor" href="#guidelines-to-choose-good-names"></a>
</h2>
<hr class="half-width">
<blockquote>
<p>There are only two hard things in Computer Science: cache
invalidation and naming things. Phil Karlton</p>
</blockquote>
<p>Choosing good names is hard, and sometimes, it is more difficult than
writing code itself. It seems an extra layer of complication or even a
blocker for your code project. However, remember that your aim is to
write code everyone can read and understand to make it easier for the
following user or developer to work with. So, the little effort you
invest in naming will pay off in the long run. The good news is that
there are guidelines to help you in the process.</p>
</section><section><h2 class="section-heading" id="avoid-abbreviation-and-single-letter-names-but-be-descriptive-and-specific">Avoid abbreviation and single letter names, but be descriptive and
specific<a class="anchor" aria-label="anchor" href="#avoid-abbreviation-and-single-letter-names-but-be-descriptive-and-specific"></a>
</h2>
<hr class="half-width">
<p>In science, we are used to having single letters to identify
constants, for example, <em>g</em> for gravity, <em>h</em> for Planck’s
constant, etc. It comes naturally to use the same convention for
variables in our code. However, single-letter variables don’t always
work well. The same letter might be used to indicate different variables
in another field and, therefore, might generate confusion (it is hard to
predict a user’s background).</p>
<p>They also add an extra, more practicable, problem: searching for a
single letter in your code is hard. So, use single letters only as a
loop variable or when their role and intent can be easily
understood.</p>
<p>The same applies to abbreviations: they can easily be misinterpreted,
creating ambiguity in the code.</p>
<div id="accordionInstructor1" class="accordion instructor-note accordion-flush">
<div class="accordion-item">
<button class="accordion-button instructor-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseInstructor1" aria-expanded="false" aria-controls="collapseInstructor1">
  <h3 class="accordion-header" id="headingInstructor1">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="edit-2"></i></div> Instructor Note </h3>
</button>
<div id="collapseInstructor1" class="accordion-collapse collapse" data-bs-parent="#accordionInstructor1" aria-labelledby="headingInstructor1">
<div class="accordion-body">
<p>The variable defines a relative velocity; the <code>rlt</code> stands
for <code>relative</code>. Try to spell the <code>v_lrt</code> aloud to
show how difficult it is.</p>
</div>
</div>
</div>
</div>
<div id="discussion1" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<span class="callout-header">Discussion</span>
<div class="callout-inner">
<div class="callout-content">
<p>Considering the following variable and try to answer the questions: -
What does <code>v_rlt</code> mean? - If <code>v</code> stands for
velocity, what does <code>rlt</code> mean?</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>v_rlt <span class="op">=</span> <span class="dv">100</span> <span class="co"># km/h</span></span></code></pre>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="use-nouns-verbs-and-questions-to-name-different-components">Use nouns, verbs and questions to name different components<a class="anchor" aria-label="anchor" href="#use-nouns-verbs-and-questions-to-name-different-components"></a>
</h3>
<p>Common recommendations are:</p>
<ul>
<li><p><strong>Nouns are used for naming modules and classes</strong>.
This is because modules and classes play a specific role in the
structure of the code. For example, classes generally represent
real-world objects or entities within a domain (like
<code>Particles</code> and <code>Species</code>), and using nouns makes
it clear what kind of object the class represents. Similarly, modules
group together different functionalities with a similar purpose and
nouns can express what they are about.</p></li>
<li><p><strong>Verbs are used for function and methods</strong>.
Functions are designed to perform an action, and using verbs in their
name helps understand what action they perform
(e.g. <code>calculate_velocity</code>,
<code>visualise_data</code>).</p></li>
<li><p><strong>Questions are used for boolean</strong>. A boolean
variable can take only two values, <code>True</code> and
<code>False</code>, and questions naturally align with evaluating
conditions, for example <code>, is_even</code> and
<code>is_running</code>.</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="avoid-magic-numbers">Avoid magic numbers<a class="anchor" aria-label="anchor" href="#avoid-magic-numbers"></a>
</h3>
<p>A magic number is a value hard-coded directly in the source code.
Essentially, magic numbers are unnamed variables that appear without an
explanation. Usually, we use them when working with constant values, and
the underlying assumption is that they will not change or we don’t
expect to change. The problem arises when someone else reads our code:
without extra information, it won’t be clear what they are, and they
will look like some random code without significance. The big issue is
when we need to change the numbers. If the code is simple enough and
somehow it is clear what they represent, we could just replace them.
However, the same number may be used somewhere else in the code, forcing
us to check every line of the code. Even one magic number can increase
the code’s complexity, making it difficult to understand and extend.</p>
<p>Instead of hard-coded numbers, defining them as constants with
descriptive names is good practice.</p>
<p><strong>Constants</strong> are generally defined using
<strong>capital letters</strong> with underscores separating words, like
<code>THRESHOLD</code>, <code>PLANCK_CONSTANT</code> and so on.</p>
<div id="challenge" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="challenge" class="callout-inner">
<h3 class="callout-title">Challenge</h3>
<div class="callout-content">
<p>Considering the code below - What do you think about the clarity of
the code? - Are there any magic numbers? What problem could they cause?
- Why is it beneficial to remove them?</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="kw">def</span> calculate_gravitational_force(mass1, mass2, distance):</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>  force <span class="op">=</span> (<span class="fl">6.67430e-11</span> <span class="op">*</span> mass1 <span class="op">*</span> mass2) <span class="op">/</span> (distance <span class="op">**</span> <span class="dv">2</span>)</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>  <span class="cf">return</span> force</span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a><span class="kw">def</span> calculate_gravitational_potential_energy(mass1, mass2, distance):</span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a>  potential_energy <span class="op">=</span> (<span class="fl">6.67430e-11</span> <span class="op">*</span> mass1 <span class="op">*</span> mass2) <span class="op">/</span> distance</span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a>  <span class="cf">return</span> potential_energy</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>The code uses consistent names for the two functions, which are
self-explanatory. They have an explicit return statement and robust
logic: take inputs, perform calculations, and return results.</p>
<p>They both have the same magic number, and it’s unclear what it
represents without sufficient context or knowledge. It is difficult to
maintain as changing the constant implies changing the value in
different places.</p>
<p>A better version can be:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>GRAVITATIONAL_CONSTANT <span class="op">=</span> <span class="fl">6.67430e-11</span> <span class="co"># m^3/kg/s^2</span></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a><span class="kw">def</span> calculate_gravitational_force(mass1, mass2, distance):</span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>  force <span class="op">=</span> (GRAVITATIONAL_CONSTANT <span class="op">*</span> mass1 <span class="op">*</span> mass2) <span class="op">/</span> (distance <span class="op">**</span> <span class="dv">2</span>)</span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a>  <span class="cf">return</span> force</span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a><span class="kw">def</span> calculate_gravitational_potential_energy(mass1, mass2, distance):</span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a>  potential_energy <span class="op">=</span> (GRAVITATIONAL_CONSTANT <span class="op">*</span> mass1 <span class="op">*</span> mass2) <span class="op">/</span> distance</span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a>  <span class="cf">return</span> potential_energy</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="naming-styles">Naming styles<a class="anchor" aria-label="anchor" href="#naming-styles"></a>
</h2>
<hr class="half-width">
<p>Naming conventions are an important part of any programming language
coding style. These conventions help to maintain consistency in the
code. More information about naming conventions in Python can be found
<a href="https://peps.python.org/pep-0008/#naming-conventions" class="external-link">PEP8-Style
Guide for Python code</a>.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul>
<li>Naming variables is an important step to improve code
readability.</li>
<li>A good name can explain the intent of the code without extra
information.</li>
<li>Some guidelines can help name variables, functions, and
modules.</li>
<li>Avoid single letters, ambiguous names and magic numbers in your
code</li>
<li>Be consistent.</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-Episode3"><p>Content from <a href="Episode3.html">Write Robust Code</a></p>
<hr>
<p>Last updated on 2026-01-06 |

        <a href="https://github.com/carpentries-incubator/write-readable-code/edit/main/episodes/Episode3.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 23 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How to make code user-friendly?</li>
<li>What practices can you adopt to ensure your Python code is robust
and less prone to failures?</li>
<li>Why is comprehensive error handling crucial for code reliability,
and how can it be implemented effectively?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Write Python User-Friendly code using docstrings</li>
<li>Implement robust coding practices using Assertions and Raising
Exceptions</li>
<li>Develop and Apply Effective Error Handling Techniques</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>Much like a carpenter uses the right tools to create sturdy and
beautiful furniture, a programmer employs the right techniques to create
robust code. This episode will equip you with the tools for building
strong, error-resistant code.</p>
<section><h2 class="section-heading" id="making-python-code-user-friendly">Making Python code User-Friendly<a class="anchor" aria-label="anchor" href="#making-python-code-user-friendly"></a>
</h2>
<hr class="half-width">
<p>Consider the following code</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="kw">def</span> calculate_rectangle_area(width, height):</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>  </span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>  area <span class="op">=</span> width <span class="op">*</span> height</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>  </span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>  <span class="cf">return</span> area</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>  </span></code></pre>
</div>
<p>At a glance, we can understand the purpose and functionality of this
code. The function name <code>calculate_rectangle_area</code> is
descriptive and tells us exactly what the function is meant to do.
Similarly, the variables <code>width</code> and <code>height</code> are
intuitively named, so we know they represent the dimensions of a
rectangle. Even without deep programming knowledge, someone can infer
what this code does. While the code is well-written, is this level of
clarity sufficient for someone to run the code successfully?</p>
<p>One important aspect missing from the example is the information
about variable types. Without specifying that <code>width</code> and
<code>height</code> should be numerical values (integers or floats),
someone may inadvertently provide invalid inputs (e.g., strings) that
would cause the function to fail.</p>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div class="callout-inner">
<h3 class="callout-title">Challenge</h3>
<div class="callout-content">
<p>Write a code that uses the function calculate_rectangle_area with the
following values for width and height and observe the function’s
behaviour. Call the function within a Python terminal and print the
results.</p>
<ol style="list-style-type: decimal">
<li>width = 5.2 and height = 4.3</li>
<li>width = 5 and height = ‘4’</li>
<li>width = ‘5’ and height = ‘4’</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="co"># Case 1. The code gives the right result</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="op">&gt;&gt;</span><span class="bu">print</span>(<span class="st">"width = 5.2 and height = 4.3 (both numerical):</span><span class="ch">\n</span><span class="st"> area = "</span>,calculate_rectangle_area(<span class="fl">5.2</span>, <span class="fl">4.3</span>))</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>width <span class="op">=</span> <span class="fl">5.2</span> <span class="kw">and</span> height <span class="op">=</span> <span class="fl">4.3</span> (both numerical): </span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>area <span class="op">=</span>  <span class="fl">22.36</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="co"># Case 2. The code multiplies the string (height) by 5, meaning that the string is repeated 5 times.</span></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a><span class="op">&gt;&gt;</span> <span class="bu">print</span>(<span class="st">"width = 5 and height = '4' (both numerical):</span><span class="ch">\n</span><span class="st"> area = "</span>,calculate_rectangle_area(<span class="dv">5</span>, <span class="dv">4</span>))</span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a>width <span class="op">=</span> <span class="dv">5</span> <span class="kw">and</span> height <span class="op">=</span> <span class="st">'4'</span> (one numerical <span class="kw">and</span> one string)</span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a>area <span class="op">=</span>  <span class="dv">44444</span></span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a><span class="co"># Case 3. The code raises a TypeError</span></span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a><span class="op">&gt;&gt;</span> <span class="bu">print</span>(<span class="st">"width = '5' and height = '4' (one numerical and one string):</span><span class="ch">\n</span><span class="st"> area = "</span>,calculate_rectangle_area(<span class="st">'5'</span>, <span class="st">'4'</span>))</span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a>[...]</span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a><span class="pp">TypeError</span>: can<span class="st">'t multiply sequence by non-int of type '</span><span class="bu">str</span><span class="st">'</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="what-can-go-wrong">What can go wrong?<a class="anchor" aria-label="anchor" href="#what-can-go-wrong"></a>
</h2>
<hr class="half-width">
<p>Users who interact with code without fully understanding it may make
errors, causing the code to behave unexpectedly. In the best-case
scenario, the execution may be disrupted, prompting the user to identify
and correct the mistake. In the worst-case scenario, the code may
execute without any visible errors but produce incorrect results, a
situation known as a <em>silent failure</em>. Such failures often go
unnoticed and are difficult to diagnose and fix.</p>
<p>Although we cannot predict what errors might occur, we can add
in-line documentation that explains how to use a function or a piece of
code and control misuse by returning errors or messages that allert the
user when something goes wrong.</p>
<div class="section level3">
<h3 id="step-1-tell-how-to-use-your-code">Step 1: Tell how to use your code<a class="anchor" aria-label="anchor" href="#step-1-tell-how-to-use-your-code"></a>
</h3>
<p>It is impossible to predict how someone else will use our code. The
best we can do is add extra information in the form of comments or, even
better, <em>docstrings</em>. In Python, docstrings are string literals
after defining a function, method, class, or module. They are used to
document the specific segment of code they are associated with.</p>
<p>The advantage of using docstrings is that they are used by the Python
built-in function <code>help</code> to display the information without
having to navigate through the source code. A better version of the
function above can be:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="kw">def</span> calculate_rectangle_area(width, height):</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>  <span class="co">""" Calculate the area of a rectangle, knowing its height and width</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="co">  Args:</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="co">      width (float): The width of a rectangle</span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a><span class="co">      height (float): The height of a rectangle</span></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="co">  Returns:</span></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a><span class="co">      float: area of the rectangle</span></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a><span class="co">  """</span></span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a>  area <span class="op">=</span> width <span class="op">*</span> height</span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a>  <span class="cf">return</span> area</span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a>  </span></code></pre>
</div>
<p>In the docstring, we briefly describe what the function does, the
arguments and their types, and the type of the returning variables.</p>
<p>A user can then call the <code>help</code> function to understand how
to use it.</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="op">&gt;&gt;</span> <span class="bu">help</span>(calculate_rectangle_area)</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>calculate_rectangle_area(width, height)</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>    Calculate the area of a rectangle, knowing its height <span class="kw">and</span> width</span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>    Args:</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a>        width (<span class="bu">float</span>): The width of a rectangle</span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a>        height (<span class="bu">float</span>): The height of a rectangle</span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a>    Returns:</span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a>        <span class="bu">float</span>: area of the rectangle</span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="step-2-handle-errors">Step 2: Handle errors<a class="anchor" aria-label="anchor" href="#step-2-handle-errors"></a>
</h3>
<p>The goal is to ensure that the code runs correctly and provides
informative feedback to users when unexpected issues arise. Using
comments and docstrings reduces the likelihood that code is used
incorrectly. Sometimes, errors and bugs are somewhere else in the code,
and they can be propagated without proper handling. These errors might
be due to unexpected conditions, invalid inputs, hardware failures, or
bugs in the code.</p>
<p>In such scenarios, error handling becomes essential. By applying
error handling techniques, developers can catch and resolve issues as
they occur, provide meaningful error messages to users, and take
appropriate actions to maintain code integrity.</p>
<p>In Python, there are different techniques one can use to handle
errors and exceptions properly. Here, we will focus on
<strong>assertions</strong> and <strong>error raising</strong>.</p>
<div class="section level4">
<h4 id="assertions">Assertions<a class="anchor" aria-label="anchor" href="#assertions"></a>
</h4>
<p>An <em>assertion</em> is a statement that check if a given condition
is true. If this is not the case, it returns an error message. The
syntax is</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="cf">assert</span> Condition, <span class="st">'Error message'</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="op">&gt;</span> x <span class="op">=</span> <span class="op">-</span><span class="dv">1</span> </span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a><span class="op">&gt;</span> <span class="cf">assert</span> x<span class="op">&gt;</span><span class="dv">0</span>, <span class="st">'x must be greater than 0'</span> <span class="co">#check if the condition x&gt;0 is true</span></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a><span class="op">----&gt;</span> <span class="dv">1</span><span class="er">assert</span> x<span class="op">&gt;</span><span class="dv">0</span>, <span class="st">'x must be greater than 0'</span> </span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a><span class="pp">AssertionError</span>: x must be greater than <span class="dv">0</span></span></code></pre>
</div>
<p>Assertions can check multiple statements using the <code>and</code>
and <code>or</code> operator</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="op">&gt;</span> x <span class="op">=</span> <span class="dv">3</span> </span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="op">&gt;</span> <span class="cf">assert</span> x<span class="op">&gt;</span><span class="dv">0</span> <span class="kw">and</span> x<span class="op">&lt;</span><span class="dv">2</span> , <span class="st">'x must be between 0 and 2'</span> </span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="op">----&gt;</span> <span class="dv">1</span><span class="er">assert</span> x<span class="op">&gt;</span><span class="dv">0</span> <span class="kw">and</span> x<span class="op">&lt;</span><span class="dv">2</span>, <span class="st">'x must be between 0 and 2'</span></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a><span class="pp">AssertionError</span>: <span class="pp">AssertionError</span>: x must be between <span class="dv">0</span> <span class="kw">and</span> <span class="dv">2</span></span></code></pre>
</div>
<p>Functions that return a boolean output (True or False) can also be
used. For example, a useful Python function that checks a variable type
is <code>isinstance</code>. This function returns <code>True</code> if
the type of a variable is of a given type or <code>False</code>
otherwise. For example:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="op">&gt;</span> x <span class="op">=</span> <span class="fl">3.5</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="op">&gt;</span> <span class="bu">isinstance</span>(x,<span class="bu">float</span>) <span class="co"># check if x is of type float. </span></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="va">True</span></span></code></pre>
</div>
<p>The <code>isistance</code> function can be used together with
<code>assert</code> to check a variable is of the right type. For
example:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="op">&gt;</span> x <span class="op">=</span> <span class="st">"3.5"</span> </span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="op">&gt;</span> <span class="cf">assert</span> <span class="bu">isinstance</span>(x,<span class="bu">float</span>), <span class="st">"x must be of type float"</span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>[...]</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a><span class="pp">AssertionError</span>: x must be of <span class="bu">type</span> <span class="bu">float</span></span></code></pre>
</div>
<div id="challenge2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div class="callout-inner">
<h3 class="callout-title">Challenge</h3>
<div class="callout-content">
<p>Add assertion to the following code to check that <code>width</code>
and <code>height</code> are of type <code>float</code>.</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="kw">def</span> calculate_rectangle_area(width, height):</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>  <span class="co">""" Calculate the area of a rectangle, knowing its height and width</span></span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a><span class="co">  Args:</span></span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a><span class="co">      width (float): The width of a rectangle</span></span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a><span class="co">      height (float): The height of a rectangle</span></span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a></span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a><span class="co">  Returns:</span></span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a><span class="co">      float: area of the rectangle</span></span>
<span id="cb10-10"><a href="#cb10-10" tabindex="-1"></a><span class="co">  """</span></span>
<span id="cb10-11"><a href="#cb10-11" tabindex="-1"></a>  area <span class="op">=</span> width <span class="op">*</span> height</span>
<span id="cb10-12"><a href="#cb10-12" tabindex="-1"></a>  <span class="cf">return</span> area</span>
<span id="cb10-13"><a href="#cb10-13" tabindex="-1"></a></span>
<span id="cb10-14"><a href="#cb10-14" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"width = 5.2 and height = 4.3 (both numerical): area = "</span>,calculate_rectangle_area(<span class="fl">5.2</span>, <span class="fl">4.3</span>))</span>
<span id="cb10-15"><a href="#cb10-15" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"width = 5 and height = '4' (both numerical): area = "</span>,calculate_rectangle_area(<span class="dv">5</span>, <span class="dv">4</span>))</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="kw">def</span> calculate_rectangle_area(width, height):</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>  <span class="co">""" Calculate the area of a rectangle, knowing its height and width</span></span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a><span class="co">  Args:</span></span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a><span class="co">      width (float): The width of a rectangle</span></span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a><span class="co">      height (float): The height of a rectangle</span></span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" tabindex="-1"></a><span class="co">  Returns:</span></span>
<span id="cb11-10"><a href="#cb11-10" tabindex="-1"></a><span class="co">      float: area of the rectangle</span></span>
<span id="cb11-11"><a href="#cb11-11" tabindex="-1"></a><span class="co">  """</span></span>
<span id="cb11-12"><a href="#cb11-12" tabindex="-1"></a>  <span class="cf">assert</span> <span class="bu">isinstance</span>(width, <span class="bu">float</span>) <span class="kw">and</span> <span class="bu">isinstance</span>(height, <span class="bu">float</span>), <span class="st">"Input must be of type float"</span></span>
<span id="cb11-13"><a href="#cb11-13" tabindex="-1"></a>  area <span class="op">=</span> width <span class="op">*</span> height</span>
<span id="cb11-14"><a href="#cb11-14" tabindex="-1"></a>  <span class="cf">return</span> area</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section level4">
<h4 id="raise">Raise<a class="anchor" aria-label="anchor" href="#raise"></a>
</h4>
<p>Another way to throw exceptions and errors is to use the Python
<code>raise</code> keyword. With <code>raise</code>, you can trigger
both built-in and custom exceptions. It is similar to
<code>assert</code>, but it is used to signal runtime errors. The
<code>raise</code> keyword is generally used within an if-statement that
checks for a specific condition.</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>x <span class="op">=</span> <span class="op">-</span><span class="dv">1</span></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="cf">if</span> x <span class="op">&lt;</span> <span class="dv">0</span> : <span class="co">#make sure that x is always greater than 0</span></span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>  </span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a>   <span class="cf">raise</span> <span class="pp">Exception</span>(<span class="st">"x must be greater than 0"</span>)</span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a>     <span class="dv">1</span> <span class="cf">if</span> x <span class="op">&lt;</span> <span class="dv">0</span> : <span class="co">#make sure that x is always greater than 0</span></span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a><span class="op">---&gt;</span> <span class="dv">3</span>    <span class="cf">raise</span> <span class="pp">Exception</span>(<span class="st">"x must be greater than 0"</span>)</span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a><span class="pp">Exception</span>: x must be greater than <span class="dv">0</span></span></code></pre>
</div>
<p>The code raises a general <code>Exception</code> when the variable is
less than zero. <code>Exception</code> is a built-in Python error type
indicating a generic error. Python has different <a href="https://docs.python.org/3/library/exceptions.html" class="external-link">error types</a>
that can be used in specific situations. The most common are:</p>
<table class="table">
<colgroup>
<col width="18%">
<col width="81%">
</colgroup>
<thead><tr class="header">
<th>Error Type</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>TypeError</code></td>
<td>Happens when an operation or function is applied to an object of
inappropriate type.</td>
</tr>
<tr class="even">
<td><code>NameError</code></td>
<td>Occurs when a local or global name is not found.</td>
</tr>
<tr class="odd">
<td><code>ValueError</code></td>
<td>Raised when a function receives an argument of the correct type but
inappropriate value.</td>
</tr>
<tr class="even">
<td><code>IndexError</code></td>
<td>Happens when trying to access an index that is out of the range of a
list or tuple.</td>
</tr>
<tr class="odd">
<td><code>KeyError</code></td>
<td>Raised when trying to access a dictionary with a key that does not
exist.</td>
</tr>
<tr class="even">
<td><code>ZeroDivisionError</code></td>
<td>Raised when dividing by zero.</td>
</tr>
<tr class="odd">
<td><code>FileNotFoundError</code></td>
<td>Occurs when trying to open a file that does not exist.</td>
</tr>
<tr class="even">
<td><code>RuntimeError</code></td>
<td>Raised when an error does not fall under any other category.</td>
</tr>
</tbody>
</table>
<div id="challenge3" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div class="callout-inner">
<h3 class="callout-title">Challenge</h3>
<div class="callout-content">
<p>Let us consider the code below and modify it so that it raises an
error if any of the input parameters are less than zero. What is the
more appropriate error type?</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="kw">def</span> calculate_rectangle_area(width, height):</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a>  <span class="co">""" Calculate the area of a rectangle, knowing its height and width</span></span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a><span class="co">  Args:</span></span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a><span class="co">      width (float): The width of a rectangle</span></span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a><span class="co">      height (float): The height of a rectangle</span></span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a></span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a><span class="co">  Returns:</span></span>
<span id="cb13-9"><a href="#cb13-9" tabindex="-1"></a><span class="co">      float: area of the rectangle</span></span>
<span id="cb13-10"><a href="#cb13-10" tabindex="-1"></a><span class="co">  """</span></span>
<span id="cb13-11"><a href="#cb13-11" tabindex="-1"></a>  area <span class="op">=</span> width <span class="op">*</span> height</span>
<span id="cb13-12"><a href="#cb13-12" tabindex="-1"></a>  <span class="cf">return</span> area</span>
<span id="cb13-13"><a href="#cb13-13" tabindex="-1"></a></span>
<span id="cb13-14"><a href="#cb13-14" tabindex="-1"></a><span class="co">#you can test running the following code</span></span>
<span id="cb13-15"><a href="#cb13-15" tabindex="-1"></a>area <span class="op">=</span> calculate_rectangle_area(<span class="op">-</span><span class="fl">5.1</span>, <span class="fl">3.2</span>)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<p>In this case, the code should raise a <code>ValueError</code>.</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="kw">def</span> calculate_rectangle_area(width, height):</span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>  <span class="co">""" Calculate the area of a rectangle, knowing its height and width</span></span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a><span class="co">  Args:</span></span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a><span class="co">      width (float): The width of a rectangle</span></span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a><span class="co">      height (float): The height of a rectangle</span></span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a></span>
<span id="cb14-8"><a href="#cb14-8" tabindex="-1"></a><span class="co">  Returns:</span></span>
<span id="cb14-9"><a href="#cb14-9" tabindex="-1"></a><span class="co">      float: area of the rectangle</span></span>
<span id="cb14-10"><a href="#cb14-10" tabindex="-1"></a><span class="co">  """</span></span>
<span id="cb14-11"><a href="#cb14-11" tabindex="-1"></a>  <span class="cf">if</span> width <span class="op">&lt;</span> <span class="dv">0</span> <span class="kw">or</span> height <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb14-12"><a href="#cb14-12" tabindex="-1"></a>    <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"width and height must be positive values"</span>)</span>
<span id="cb14-13"><a href="#cb14-13" tabindex="-1"></a>  area <span class="op">=</span> width <span class="op">*</span> height</span>
<span id="cb14-14"><a href="#cb14-14" tabindex="-1"></a>  <span class="cf">return</span> area</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul>
<li>
<em>Docstrings</em> provide clear documentation of your code and
improve its readability and usability.</li>
<li>
<em>Error handling techniques</em> help build robust code. The idea
is to anticipate potential errors and to implement mechanisms to handle
them gracefully.
<ul>
<li>
<em>Assertions</em> ensure that certain conditions are met during
code execution.</li>
<li>By <em>raising specific exceptions</em>
(e.g. <code>TypeError</code>, <code>ValueError</code>), you can not only
control the behaviour of your code when things go wrong but also inform
the user that something is right.</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</div>
</div>
</section></section><section id="aio-Episode4"><p>Content from <a href="Episode4.html">Write Reliable Code</a></p>
<hr>
<p>Last updated on 2026-01-06 |

        <a href="https://github.com/carpentries-incubator/write-readable-code/edit/main/episodes/Episode4.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 55 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What is reliable code?</li>
<li>What is testing? Why do we care?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Understanding the importance of code testing</li>
<li>Understanding basic unit testing concepts</li>
<li>Learning Pytest syntax and structure</li>
<li>Practicing test-driven development</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="reliable-code-and-the-importance-of-testing">Reliable code and the importance of testing<a class="anchor" aria-label="anchor" href="#reliable-code-and-the-importance-of-testing"></a>
</h2>
<hr class="half-width">
<p>Reliable code consistently performs as expected, manages unexpected
situations gracefully, and functions correctly over time. While error
handling deals with managing failures, reliability provides assurance
that your code consistently delivers expected results. In simple terms,
reliable code is code that can be trusted. However, writing reliable
code is not a one-time task; it often requires continuous revision and
improvement.</p>
<p>The first step towards achieving reliable code is testing. Code
testing ensures reliability by systematically checking the code under
controlled conditions to identify any errors or weaknesses. This
approach allows you to catch errors and bugs early in the development
process, which contributes to writing more structured and maintainable
code. Complex and unstructured code is always challenging to test and
maintain. Think about unstructured code as a precariously set-up game of
dominoes. Each domino represents a piece of code, and they are arranged
haphazardly. If you inadvertently knock over one domino while attempting
to adjust another, the entire arrangement is affected, causing a cascade
of errors. In contrast, structured and well-organised code is like a
carefully planned domino setup where each piece is meticulously placed.
Adjusting one piece does not lead to a domino effect, ensuring the
system remains stable and reliable.</p>
<p>Testing helps you to organise pieces of code together, making sure
that each of them is stable and can be replaced or modified without
destroying anything else.</p>
<div class="section level3">
<h3 id="what-is-testing">What is testing?<a class="anchor" aria-label="anchor" href="#what-is-testing"></a>
</h3>
<p>Testing in software development is a systematic process aimed at
evaluating and verifying that a piece of software functions as intended.
Testing aims to identify bugs, ensure the software’s reliability and
performance, and validate that the software meets all specified
requirements. There are several types of testing, each pertinent to
different scenarios. For instance, integration testing assesses the
interactions between various pieces of code, while system testing
evaluates the software as a whole. Reference testing compares the
results produced by your software against those generated by another
existing software.</p>
<p>Unit testing is often the first level of testing. A “unit” refers to
the smallest component that can be tested in your code, a function, a
class, or module. Unit testing aims to ensure that each component
behaves as expected.</p>
</div>
</section><section><h2 class="section-heading" id="test-driven-development">Test Driven Development<a class="anchor" aria-label="anchor" href="#test-driven-development"></a>
</h2>
<hr class="half-width">
<p>There are two general approaches to writing code and its tests. The
traditional one must first write the code and then write testing
functions to validate its functionality. Alternatively, one can write
tests and then write code that passes these tests. This is called Test
Driven Development, or TDD. Although it seems counterintuitive, this
approach helps to develop code alongside testing, leading to a robust
code base. Also, when a project has precise requirements, this approach
helps to ensure that the code satisfies them, as each requirement can be
used as a test case.</p>
<p>In this tutorial, we will develop code using the TDD approach.</p>
<div class="section level3">
<h3 id="how-does-it-work">How does it work?<a class="anchor" aria-label="anchor" href="#how-does-it-work"></a>
</h3>
<figure><img src=".././fig/TDD_RedGreenRefactor.png" alt="Illustration showing three phases of Test-Driven Development cycle: Red (failing test), Green (passing test), and Refactor (improving code)" class="figure mx-auto d-block"><div class="figcaption">The Red-Green-Refactor cycle: Write a failing
test (Red), implement minimal code to pass it (Green), then refine the
code while keeping tests passing</div>
</figure><p>TDD is based on an iterative cycle known as “Red-Green-Refactor” (see
figure)</p>
<ol style="list-style-type: decimal">
<li>Write a test to verify the functionality of the code.</li>
<li>Red: Run the test and see if it fails. Remember, the code does not
exist yet.</li>
<li>Green: Write minimal code that passes the test</li>
<li>Refactor: Improve your code</li>
</ol>
<p>The above steps can be repeated for adding a new feature or
functionality.</p>
</div>
</section><section><h2 class="section-heading" id="install-pytest">Install Pytest<a class="anchor" aria-label="anchor" href="#install-pytest"></a>
</h2>
<hr class="half-width">
<p>Before going any further, we need to ensure that we have the
necessary package. In a Python shell, check if Pytest is installed. You
can do this simply by importing the Pytest library:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="im">import</span> pytest</span></code></pre>
</div>
<p>If the command returns a
<strong><code>ModuleNotFoundError</code></strong> message, then you can
run:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>pip install pytest</span></code></pre>
</div>
</section><section><h2 class="section-heading" id="challenge-a-rolling-dice-game">Challenge: a rolling dice game<a class="anchor" aria-label="anchor" href="#challenge-a-rolling-dice-game"></a>
</h2>
<hr class="half-width">
<p>Let us write code to simulate a rolling dice game. The dice game’s
goal is to precisely reach the target score, for example, 21 points, by
rolling dice without going over. Each roll adds to the player total
score, and if they exceed 21, they lose. The player who reaches 21 in
the fewest number of rolls wins!</p>
<p>Before proceeding to the code, we need to define and understand the
requirements. Requirements serve as clear guidelines that define what
the code should do and how it should behave. By implementing these
requirements into the code, we can ensure it meets all specified needs
and constraints. Requirements also provide clear criteria for what to
test to ensure code functionality and verify that the code behaves as
expected.</p>
<p>Let us define the requirements.</p>
<ul>
<li>
<strong>Core Requirements</strong>
<ul>
<li>
<strong>Dice Rolling Function:</strong>
<ul>
<li>
<strong>Requirement 1</strong>: The function must generate random
numbers between 1 and the number of dice sides. The number of sides must
be six by default, but a user can create custom dice.</li>
<li>
<strong>Requirement 2</strong>: - The dice rolling system must be
fair and unbiased.</li>
</ul>
</li>
<li>
<strong>Game logic</strong>
<ul>
<li>
<strong>Requirement 3</strong>: The users can change the target
score.</li>
<li>
<strong>Requirement 4</strong>: Track the total score and count the
number of rolls.</li>
<li>
<strong>Requirement 5 </strong>: Implement the target score. The
code should stop when the target score is reached, or the total score
exceeds the target score.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>The requirements above define and regulate the behaviour of the code.
However, as the authors of the code, we should define some
implementation requirements, which helps us write good code from the
start.</p>
<ul>
<li>
<strong>Implementation Requirements</strong>
<ul>
<li>Every function should check for valid input.</li>
<li>The code should handle errors gracefully.</li>
<li>The code must use meaningful names.</li>
<li>The code must include docstrings and comments.</li>
</ul>
</li>
</ul>
<p>We can use the above requirements as guidelines to write our code.
The following activities help us write the code step by step, using a
Test-Driven Development (TDD) approach. We will use the Pytest package.
The general idea is to use each requirement as a guideline, write
relevant tests to check each one, and then develop code. You should
develop two Python files: <code>dice_game.py</code>, which contains all
the core functions, and <code>test_dice_game.py</code>, which contains
all the unit tests.</p>
<blockquote>
<p>Make sure that the two files are in the same location</p>
</blockquote>
</section><section><h2 class="section-heading" id="requirement-1-the-dice-rolling-function">Requirement 1: The dice rolling function<a class="anchor" aria-label="anchor" href="#requirement-1-the-dice-rolling-function"></a>
</h2>
<hr class="half-width">
<div id="step1-write-a-test-and-see-it-fails." class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="step1-write-a-test-and-see-it-fails." class="callout-inner">
<h3 class="callout-title">Step1: Write a test and see it fails.</h3>
<div class="callout-content">
<p>Let’s start by considering the following requirement:</p>
<p><em><strong>Dice Rolling Function</strong>: Must generate random
numbers between 1 and the number of die sides. The number of sides must
be six by default, but a user can create custom dice.</em></p>
<p>So the first step is to write a function <code>roll_die</code> that
takes the number of sides as input. By default, the number of sides must
be six.</p>
<p>Open the file <code>dice_game.py</code> in the editor and type the
following function:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="kw">def</span> roll_die(sides<span class="op">=</span><span class="dv">6</span>):</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="co">"""Roll a die with the specified number of sides.</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="co">        sides (int, optional): Number of sides. Defaults to 6.</span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="cf">pass</span></span></code></pre>
</div>
<p>The <code>pass</code> statement defines a null operation; it is a
placeholder for future code.</p>
<p>The next step in TDD is to design a unit test for this function. Note
that as it is, <code>roll_die()</code> is designed to fail all the
tests.</p>
<p>Open the file <code>test_dice_game.py</code> and import the following
modules:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="im">import</span> pytest</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="im">from</span> dice_game <span class="im">import</span> roll_die</span></code></pre>
</div>
<p>The first import statement tells Python to use the Pytest framework,
while the second explicitly says what function (or unit) to use for
testing.</p>
<p>When the number of sides is six, the function <code>roll_die</code>
should return a value between 1 (lowest score) and 6 (highest score).
This requirement helps to write the first test. Keep working on the file
<code>test_dice_game.py</code> and add the following test.</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="kw">def</span> test_roll_die():</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>  score<span class="op">=</span>roll_die(sides<span class="op">=</span><span class="dv">6</span>)</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>  <span class="cf">assert</span> <span class="dv">1</span><span class="op">&lt;=</span>score<span class="op">&lt;=</span><span class="dv">6</span></span></code></pre>
</div>
<p>Save the file, and in a command-line terminal, run:</p>
<pre><code>:&gt;pytest</code></pre>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<p>The output should be similar to the one below.</p>
<pre><code>test_dice_game.py F
================================== FAILURES ====================================
__________________________________ test_roll_die________________________________

    def test_roll_die():
        result = roll_die(sides=6)
&gt;       assert 1 &lt;= result &lt;= 6
E       TypeError: '&lt;=' not supported between instances of 'int' and 'NoneType'

test_dice_game.py:8: TypeError
============================short test summary info=============================
FAILED test_dice_game.py::test_roll_die - TypeError: '&lt;=' not supported between instances of 'int' and 'NoneType'
==============================1 failed in 0.43s================================= </code></pre>
<p>As expected, the test failed.</p>
</div>
</div>
</div>
</div>
<div id="step2-write-minimal-code-to-pass-the-test." class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="step2-write-minimal-code-to-pass-the-test." class="callout-inner">
<h3 class="callout-title">Step2 : write minimal code to pass the
test.</h3>
<div class="callout-content">
<p>Once the <code>test_roll_dice()</code> is in place, it is time to
develop the actual function. Remember that this function must generate a
random integer number (<code>score</code>) between 1 and the number of
sides. Therefore, the code must use a random number generator, like the
Numpy Random module. So modify the file <code>dice_game.py</code> to
import <code>numpy</code> (using <code>np</code> as an alias) and change
the function <code>roll_dice</code> to return the score.</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="kw">def</span> roll_die(sides<span class="op">=</span><span class="dv">6</span>):</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>  <span class="co">"""Roll a die with the specified number of sides.</span></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a><span class="co">        sides (int, optional): Number of sides. Defaults to 6.</span></span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a><span class="co">          int: Rolling score</span></span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a><span class="co">  """</span></span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a>  score <span class="op">=</span> np.random.randint(<span class="dv">1</span>, sides<span class="op">+</span><span class="dv">1</span>)</span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a>  <span class="cf">return</span> score</span></code></pre>
</div>
<p>And run <code>pytest</code> again.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<pre><code>test_dice_game.py .                           [100%]

=============================1 passed in 0.19s================================== </code></pre>
</div>
</div>
</div>
</div>
<div id="accordionInstructor1" class="accordion instructor-note accordion-flush">
<div class="accordion-item">
<button class="accordion-button instructor-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseInstructor1" aria-expanded="false" aria-controls="collapseInstructor1">
  <h3 class="accordion-header" id="headingInstructor1">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="edit-2"></i></div> Instructor Note </h3>
</button>
<div id="collapseInstructor1" class="accordion-collapse collapse" aria-labelledby="headingInstructor1" data-bs-parent="#accordionInstructor1">
<div class="accordion-body">
<p>Point to the use of <code>sides+1</code> in the code. This ensures
the random numbers are generated within [1, sides] (inclusive).</p>
</div>
</div>
</div>
</div>
<div id="challenge3" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div class="callout-inner">
<h3 class="callout-title">Challenge</h3>
<div class="callout-content">
<p>The function <code>roll_die()</code>should work for custom dice, or
rather, when the user decides to use a die with a different number of
sides. Add a test to the <code>test_dice_game.py</code> that checks this
requirement as well.</p>
<p>Run <code>pytest</code> to check your code. The test should pass
smoothly.</p>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<p>Using a test die with 20 sides:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="kw">def</span> test_custom_die():</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>    result <span class="op">=</span> roll_die(sides<span class="op">=</span><span class="dv">20</span>)</span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a>    <span class="cf">assert</span> <span class="dv">1</span><span class="op">&lt;=</span>result<span class="op">&lt;=</span> <span class="dv">20</span>   </span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="accordionInstructor2" class="accordion instructor-note accordion-flush">
<div class="accordion-item">
<button class="accordion-button instructor-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseInstructor2" aria-expanded="false" aria-controls="collapseInstructor2">
  <h3 class="accordion-header" id="headingInstructor2">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="edit-2"></i></div> Instructor Note </h3>
</button>
<div id="collapseInstructor2" class="accordion-collapse collapse" aria-labelledby="headingInstructor2" data-bs-parent="#accordionInstructor2">
<div class="accordion-body">
<p>The above challenge is designed as a pure exercise to check student
understanding. It can be used to discuss the similarity with the
previous code and to introduce the
<code>pytest.mark.parametrize</code>.</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="testing-function-with-multiple-arguments">Testing function with multiple arguments<a class="anchor" aria-label="anchor" href="#testing-function-with-multiple-arguments"></a>
</h2>
<hr class="half-width">
<p>Often, you need to verify the same behaviour with different inputs.
You could use multiple assertions in the same function or repeat the
same function multiple times but change the testing condition. This
approach leads to several problems, such as code duplication. The best
approach is to use <a href="https://docs.Pytest.org/en/4.6.x/parametrize.html" class="external-link"><code>pytest.mark.parametrize</code></a>,
which enables the parametrisation of arguments for a test.</p>
<p>The <code>pytest.mark.parametrize</code> takes the argument’s name
defined in the function to test (“sides” in the example) as input and
passes different values as a list. When running the test, Pytest runs
the test function using each value, checking that the given input leads
to the expected results.</p>
<p>To show how it works, let’s say we want to test the
<code>roll_dice</code> function by passing different values for the
variable <code>sides</code>. We can change <code>test_roll_die</code>
function to</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="at">@pytest.mark.parametrize</span>(<span class="st">"sides"</span>, [<span class="dv">6</span>,<span class="dv">8</span>,<span class="dv">10</span>])</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a><span class="kw">def</span> test_roll_die(sides):</span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>    result <span class="op">=</span> roll_die(sides<span class="op">=</span>sides)</span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a>    <span class="cf">assert</span> <span class="dv">1</span><span class="op">&lt;=</span>result<span class="op">&lt;=</span> sides  </span></code></pre>
</div>
</section><section><h2 class="section-heading" id="using-pytest-to-test-exception">Using Pytest to test exception<a class="anchor" aria-label="anchor" href="#using-pytest-to-test-exception"></a>
</h2>
<hr class="half-width">
<p>So far, we used Pytest to check that the code produced the expected
results. However, an essential part of testing is checking that the code
manages exceptions correctly. For example, we need to ensure that the
code can handle errors smoothly or that the correct exception type is
raised when the code is not used correctly.</p>
<p>In Pytest, we can use the <code>pytest.raise</code> to check the type
of exceptions and the error message ( <a href="https://docs.Pytest.org/en/4.6.x/assert.html#assertraises" class="external-link">read
more about <code>pytest.raise</code></a>). For example, let’s say we
create a function to divide two numbers like the one below</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="kw">def</span> divide_number(numerator,denominator):</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>  <span class="cf">if</span> denominator <span class="op">==</span> <span class="dv">0</span> :</span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a>    <span class="cf">raise</span> <span class="pp">ZeroDivisionError</span>(<span class="st">"Cannot divide by zero"</span>)</span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a>  </span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a>  <span class="cf">return</span> numerator<span class="op">/</span>denominator</span></code></pre>
</div>
<p>We can use <code>pytest.raises</code> to check the expected behaviour
when the denominator is zero. If the correct exception is raised, the
test passes; if no exception is raised or a different type is raised,
the test fails.</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="kw">def</span> test_divide():</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a>  <span class="cf">with</span> Pytest.raises(<span class="pp">ZeroDivisionError</span>):</span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a>    divide_number(<span class="dv">2</span>,<span class="dv">0</span>)</span></code></pre>
</div>
<div id="step3-incorporate-input-validation" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="step3-incorporate-input-validation" class="callout-inner">
<h3 class="callout-title">Step3 : Incorporate input validation</h3>
<div class="callout-content">
<p>One of the requirements is to handle errors gracefully. Currently,
the function <code>roll_die</code> does not check its input. Clearly,
the number of sides should not be less than 0, and since it is a game,
it is unreasonable to think about a die of only two sides. So, let us
add another test to <code>test_dice_game.py</code> to check the error
handling when the number of sides is incorrect.</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="kw">def</span> test_incorrect_die():</span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>  <span class="cf">with</span> Pytest.raises(<span class="pp">ValueError</span>):</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a>    roll_die(<span class="dv">1</span>)</span></code></pre>
</div>
<p>The test will fail because we have not yet changed the
<code>roll_die</code> function. Can you modify the function to pass the
test?</p>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Show me the solution </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="kw">def</span> roll_die(sides<span class="op">=</span><span class="dv">6</span>):</span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a>    <span class="co">"""Roll a die with the specified number of sides.</span></span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a><span class="co">        slide (int, optional): Number of sides. Defaults to 6.</span></span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a></span>
<span id="cb15-7"><a href="#cb15-7" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb15-8"><a href="#cb15-8" tabindex="-1"></a><span class="co">        int: Rolling score</span></span>
<span id="cb15-9"><a href="#cb15-9" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb15-10"><a href="#cb15-10" tabindex="-1"></a><span class="co">    Raise:</span></span>
<span id="cb15-11"><a href="#cb15-11" tabindex="-1"></a><span class="co">      ValueError: When the number of sides is less than 2.</span></span>
<span id="cb15-12"><a href="#cb15-12" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb15-13"><a href="#cb15-13" tabindex="-1"></a>    </span>
<span id="cb15-14"><a href="#cb15-14" tabindex="-1"></a>    <span class="cf">if</span> sides <span class="op">&lt;=</span><span class="dv">2</span>:</span>
<span id="cb15-15"><a href="#cb15-15" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">'Number of sides must be greater than 2'</span>)</span>
<span id="cb15-16"><a href="#cb15-16" tabindex="-1"></a>    score <span class="op">=</span> np.random.randint(<span class="dv">1</span>, sides<span class="op">+</span><span class="dv">1</span>)</span>
<span id="cb15-17"><a href="#cb15-17" tabindex="-1"></a>    <span class="cf">return</span> score</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="accordionInstructor3" class="accordion instructor-note accordion-flush">
<div class="accordion-item">
<button class="accordion-button instructor-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseInstructor3" aria-expanded="false" aria-controls="collapseInstructor3">
  <h3 class="accordion-header" id="headingInstructor3">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="edit-2"></i></div> Instructor Note </h3>
</button>
<div id="collapseInstructor3" class="accordion-collapse collapse" aria-labelledby="headingInstructor3" data-bs-parent="#accordionInstructor3">
<div class="accordion-body">
<p>Highlight the fact that the docstrings should change as the code
changes.</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="requirement-2-the-dice-rolling-system-must-be-fair-and-unbiased-">Requirement 2: The dice rolling system must be fair and
unbiased.<a class="anchor" aria-label="anchor" href="#requirement-2-the-dice-rolling-system-must-be-fair-and-unbiased-"></a>
</h2>
<hr class="half-width">
<p>Checking if a die-rolling system is fair involves understanding
theoretical expectations and practical verification methods. For a die
with N sides to be fair, we expect that</p>
<ul>
<li>Each number has the same probability of appearing ( <span class="math inline">\(\rm{p}_{i} = \frac{1}{N}\)</span>)</li>
<li>Average roll value to converge to the theoretical mean (<span class="math inline">\(\frac{1}{N}\sum_i^N X_i\)</span>, where <span class="math inline">\(N\)</span> is the number of sides, and <span class="math inline">\(X_i\)</span> is the individual score).</li>
<li>The distribution becomes uniform over a large number of rolls.</li>
</ul>
<p>Considering this expectation, we can create tests to verify that our
die is unbiased.</p>
<p>A possible approach is to use the average roll value and compare it
with the theoretical mean. This approach requires writing code in
<code>dice_game.py</code> that calculates the mean score for a given
number of rolls and then compares it to the expected values. The test
function in <code>test_dice_game.py</code> will check that the two
values are equal.</p>
<p>The caveat in this approach is that comparing two non-integer values
is not straightforward, as there are often numerical errors and
approximations. For example, have a look at the output below</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="op">&gt;</span> <span class="fl">0.2</span><span class="op">+</span><span class="fl">0.4</span> <span class="op">==</span> <span class="fl">0.6</span></span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a><span class="va">False</span></span></code></pre>
</div>
<p>This is a common problem in testing and usually requires asserting
that two floating-point numbers are equal within some tolerance,
something like</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="bu">abs</span>((<span class="fl">0.2</span> <span class="op">+</span> <span class="fl">0.4</span>) <span class="op">-</span> <span class="fl">0.6</span>) <span class="op">&lt;</span> <span class="fl">1e-6</span></span></code></pre>
</div>
<p>where the tolerance is <span class="math inline">\(1\times10^{-6}\)</span>. Writing this type of
tests is tedious and usually requires code repetition. However, Pytest
has a built-in method that can help solve this problem: <a href="https://docs.Pytest.org/en/4.6.x/reference.html#functions" class="external-link"><code>pytest.approx</code></a>.
By default, <code>pytest.approx</code> uses a <span class="math inline">\(1\times10^{-6}\)</span> tolerance. There might be
situations where this value is not adequate. For example, let us say
that the expected value is 0.62, but the function might return 0.6199
instead. Then</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a>result <span class="op">=</span> <span class="fl">0.6199</span></span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a><span class="cf">assert</span> result <span class="op">==</span> pytest.approx(<span class="fl">0.62</span>), <span class="st">"Results don't match"</span></span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a>[...]</span>
<span id="cb18-4"><a href="#cb18-4" tabindex="-1"></a><span class="pp">AssertionError</span>: Results don<span class="st">'t match</span></span></code></pre>
</div>
<p>A better check therefore might be</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a>result <span class="op">=</span> <span class="fl">0.6199</span></span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a><span class="cf">assert</span> result <span class="op">==</span> pytest.approx(<span class="fl">0.62</span>,<span class="fl">1e-3</span>), <span class="st">"Results don't match"</span></span></code></pre>
</div>
<p>where we changed the tolerance to <span class="math inline">\(1\times10^{-3}\)</span>. An alternative solution
might be to use the <code>round()</code> function to approximate the
solution to a given number of decimals.</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a>result <span class="op">=</span> <span class="fl">0.6199</span></span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a><span class="cf">assert</span> <span class="bu">round</span>(result,<span class="dv">3</span>) <span class="op">==</span> pytest.approx(<span class="fl">0.62</span>), <span class="st">"Results don't match"</span></span></code></pre>
</div>
<div id="write-test_average_roll" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<span class="callout-header">Discussion</span>
<div id="write-test_average_roll" class="callout-inner">
<h3 class="callout-title">Write test_average_roll</h3>
<div class="callout-content">
<p>Let’s start by writing the <code>calculate_average_function</code> in
<code>dice_game.py</code></p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="kw">def</span> calculate_average_rolls(sides, number_of_rolls):</span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a>    <span class="co">"""Calculate average roll over multiple trials.</span></span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb21-5"><a href="#cb21-5" tabindex="-1"></a><span class="co">        sides (int): Number of die sides.</span></span>
<span id="cb21-6"><a href="#cb21-6" tabindex="-1"></a><span class="co">        number_of_rolls (int): number of rolls</span></span>
<span id="cb21-7"><a href="#cb21-7" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb21-8"><a href="#cb21-8" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb21-9"><a href="#cb21-9" tabindex="-1"></a>    <span class="cf">pass</span></span></code></pre>
</div>
<p>Then, add the corresponding test function in
<code>test_dice_game.py</code>.</p>
<blockquote>
<p>Remember to import the new function calculate_average_rolls</p>
</blockquote>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="kw">def</span> test_average_roll():</span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a>    <span class="co">"""Test the die is unbiased. </span></span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a><span class="co">    Assert that the average score over a number of rolls is equal to the expected average</span></span>
<span id="cb22-4"><a href="#cb22-4" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb22-5"><a href="#cb22-5" tabindex="-1"></a>    average <span class="op">=</span> calculate_average_rolls(sides<span class="op">=</span><span class="dv">6</span>, num_of_rolls<span class="op">=</span><span class="dv">1000</span>)</span>
<span id="cb22-6"><a href="#cb22-6" tabindex="-1"></a>    EXPECTED_AVERAGE <span class="op">=</span> <span class="fl">3.5</span> <span class="co">#expected average for a 6-sided die.</span></span>
<span id="cb22-7"><a href="#cb22-7" tabindex="-1"></a>    <span class="cf">assert</span>  <span class="bu">round</span>(average,<span class="dv">1</span>) <span class="op">==</span> pytest.approx(EXPECTED_AVERAGE)</span></code></pre>
</div>
<p>Now, modify the code
<code>calculate_average_rolls(sides, number_of_rolls)</code>. An example
can be:</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="kw">def</span> calculate_average_rolls(sides, number_of_rolls):</span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a>    <span class="co">"""Calculate average roll over multiple trials.</span></span>
<span id="cb23-3"><a href="#cb23-3" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb23-5"><a href="#cb23-5" tabindex="-1"></a><span class="co">        sides (int): Number of die sides.</span></span>
<span id="cb23-6"><a href="#cb23-6" tabindex="-1"></a><span class="co">        number_of_rolls (int): number of rolls</span></span>
<span id="cb23-7"><a href="#cb23-7" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb23-8"><a href="#cb23-8" tabindex="-1"></a><span class="co">    Raises:</span></span>
<span id="cb23-9"><a href="#cb23-9" tabindex="-1"></a><span class="co">        ValueError: When the number of rolls is less than or equal to 1. </span></span>
<span id="cb23-10"><a href="#cb23-10" tabindex="-1"></a></span>
<span id="cb23-11"><a href="#cb23-11" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb23-12"><a href="#cb23-12" tabindex="-1"></a><span class="co">        float: Average total score</span></span>
<span id="cb23-13"><a href="#cb23-13" tabindex="-1"></a></span>
<span id="cb23-14"><a href="#cb23-14" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb23-15"><a href="#cb23-15" tabindex="-1"></a></span>
<span id="cb23-16"><a href="#cb23-16" tabindex="-1"></a>    <span class="cf">if</span> number_of_rolls <span class="op">&lt;=</span><span class="dv">1</span>:</span>
<span id="cb23-17"><a href="#cb23-17" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"""Number of rolls should be greater than 1.</span></span>
<span id="cb23-18"><a href="#cb23-18" tabindex="-1"></a><span class="st">                        For better results, it should be at least 1e3"""</span>)</span>
<span id="cb23-19"><a href="#cb23-19" tabindex="-1"></a>    total_score <span class="op">=</span>[roll_die(sides) <span class="cf">for</span> n <span class="kw">in</span> <span class="bu">range</span>(number_of_rolls)]</span>
<span id="cb23-20"><a href="#cb23-20" tabindex="-1"></a>    average <span class="op">=</span> np.mean(total_score)</span>
<span id="cb23-21"><a href="#cb23-21" tabindex="-1"></a>    <span class="cf">return</span> average</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionInstructor4" class="accordion instructor-note accordion-flush">
<div class="accordion-item">
<button class="accordion-button instructor-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseInstructor4" aria-expanded="false" aria-controls="collapseInstructor4">
  <h3 class="accordion-header" id="headingInstructor4">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="edit-2"></i></div> Instructor Note </h3>
</button>
<div id="collapseInstructor4" class="accordion-collapse collapse" aria-labelledby="headingInstructor4" data-bs-parent="#accordionInstructor4">
<div class="accordion-body">
<p>Take some time to read and explain the code to the students. Things
to focus on: - The EXPECTED_AVERAGE is calculated for a six-sided die.
The code can be extended to test other values, for example, by combining
it with <code>pytest.mark.parametrize</code>:</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="at">@Pytest.mark.parametrize</span>(<span class="st">"sides, num_rolls"</span>, [</span>
<span id="cb24-2"><a href="#cb24-2" tabindex="-1"></a>    (<span class="dv">6</span>, <span class="dv">10000</span>),(<span class="dv">10</span>, <span class="dv">10000</span>)</span>
<span id="cb24-3"><a href="#cb24-3" tabindex="-1"></a>])</span>
<span id="cb24-4"><a href="#cb24-4" tabindex="-1"></a><span class="kw">def</span> test_average_roll(sides, num_rolls):</span>
<span id="cb24-5"><a href="#cb24-5" tabindex="-1"></a>    <span class="co">"""Test the die is unbiased. </span></span>
<span id="cb24-6"><a href="#cb24-6" tabindex="-1"></a><span class="co">    Assert that the average score over a number of rolls is equal to the expected average for different dice.</span></span>
<span id="cb24-7"><a href="#cb24-7" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb24-8"><a href="#cb24-8" tabindex="-1"></a>    average <span class="op">=</span> calculate_average_rolls(sides, num_rolls)</span>
<span id="cb24-9"><a href="#cb24-9" tabindex="-1"></a>    EXPECTED_AVERAGE <span class="op">=</span> <span class="bu">sum</span>(<span class="bu">range</span>(<span class="dv">1</span>,sides<span class="op">+</span><span class="dv">1</span>)) <span class="op">/</span> sides</span>
<span id="cb24-10"><a href="#cb24-10" tabindex="-1"></a>    <span class="cf">assert</span>  <span class="bu">round</span>(average,<span class="dv">1</span>) <span class="op">==</span> pytest.approx(EXPECTED_AVERAGE)</span></code></pre>
</div>
<ul>
<li>The use of <code>round</code> is to fix approximation errors,
especially when the number of rolls is small.</li>
<li>Discuss that the test should not take too long to run. So using a
very large number of rolls can provide better results, but it might also
take too long to run. For real-life case, you want to balance execution
time and accuracy.</li>
</ul>
</div>
</div>
</div>
</div>
<p>To test your code, you can run <code>pytest</code> as before.</p>
<div id="simulate-the-game" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="simulate-the-game" class="callout-inner">
<h3 class="callout-title">Simulate the game</h3>
<div class="callout-content">
<p>We developed and tested code to simulate a die’s rolling and ensured
the system was unbiased. For this challenge, you need to write code that
simulates the game. As for the previous case, you can focus on the
following requirements and develop code and tests to complete the
challenge. The requirements are</p>
<ul>
<li>
<strong>Game logic</strong>
<ul>
<li>
<strong>Requirement 3</strong>: The users can change the target
score.</li>
<li>
<strong>Requirement 4</strong>: Track the total score and count the
number of rolls.</li>
<li>
<strong>Requirement 5 </strong>: Implement the target score. The
code should stop when the target score is reached or the total score
exceeds the target score.</li>
</ul>
</li>
</ul>
<p>You can call your game function <code>play_game</code>.</p>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5"> Show me the solution </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" aria-labelledby="headingSolution5" data-bs-parent="#accordionSolution5">
<div class="accordion-body">
<p>In <code>test_dice_game.py</code></p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="kw">def</span> test_game_completition():</span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a>    <span class="co">""" Test that the game returns a reasonable number of rolls</span></span>
<span id="cb25-3"><a href="#cb25-3" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb25-4"><a href="#cb25-4" tabindex="-1"></a>    rolls_needed, total <span class="op">=</span> play_game(target_score<span class="op">=</span><span class="dv">6</span>)</span>
<span id="cb25-5"><a href="#cb25-5" tabindex="-1"></a>    <span class="cf">assert</span> rolls_needed <span class="op">&gt;</span> <span class="dv">0</span> </span></code></pre>
</div>
<p>In <code>dice_game.py</code></p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a></span>
<span id="cb26-2"><a href="#cb26-2" tabindex="-1"></a><span class="kw">def</span> play_game(target_score <span class="op">=</span> <span class="dv">21</span>):</span>
<span id="cb26-3"><a href="#cb26-3" tabindex="-1"></a>    <span class="co">"""Roll the die until total score reaches or overcome the total score</span></span>
<span id="cb26-4"><a href="#cb26-4" tabindex="-1"></a></span>
<span id="cb26-5"><a href="#cb26-5" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb26-6"><a href="#cb26-6" tabindex="-1"></a><span class="co">        target_score (int, optional): The target score. Defaults to 21.</span></span>
<span id="cb26-7"><a href="#cb26-7" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb26-8"><a href="#cb26-8" tabindex="-1"></a><span class="co">        tuple (int, int): Number of rolls and total score</span></span>
<span id="cb26-9"><a href="#cb26-9" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb26-10"><a href="#cb26-10" tabindex="-1"></a>    total <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb26-11"><a href="#cb26-11" tabindex="-1"></a>    number_of_rolls <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb26-12"><a href="#cb26-12" tabindex="-1"></a>    <span class="cf">while</span> total<span class="op">&lt;</span>target_score:</span>
<span id="cb26-13"><a href="#cb26-13" tabindex="-1"></a>        roll <span class="op">=</span> roll_die()</span>
<span id="cb26-14"><a href="#cb26-14" tabindex="-1"></a>        total <span class="op">=</span> total <span class="op">+</span> roll</span>
<span id="cb26-15"><a href="#cb26-15" tabindex="-1"></a>        number_of_rolls <span class="op">=</span> number_of_rolls <span class="op">+</span><span class="dv">1</span></span>
<span id="cb26-16"><a href="#cb26-16" tabindex="-1"></a>        </span>
<span id="cb26-17"><a href="#cb26-17" tabindex="-1"></a>    <span class="cf">return</span> number_of_rolls, total</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul>
<li>Testing increases trust in code and its results.</li>
<li>Test Driven Development helps to write tests alongside code</li>
<li>Pytest offers a powerful testing framework from Python code,
offering different built-in functions and methods to test various
aspects of the code:
<ul>
<li>
<strong><code>@pytest.mark.parametrize</code></strong>: To test
different input values</li>
<li>
<strong><code>pytest.raises</code></strong>: To test error
handling</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section>
</div>
    </main>
</div>
<!-- END  : inst/pkgdown/templates/content-extra.html -->

      </div>
<!--/div.row-->
      		<footer class="row footer mx-md-3"><hr>
<div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/carpentries-incubator/write-readable-code/edit/main/README.md" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/carpentries-incubator/write-readable-code/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/carpentries-incubator/write-readable-code/" class="external-link">Source</a></p>
        <p>
        <a href="https://github.com/carpentries-incubator/write-readable-code/blob/main/" class="external-link">Cite</a>
        | <a href="mailto:magda.guglielmo%20at%20csiro.au">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
		</div>
		<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.17.3" class="external-link">sandpaper (0.17.3)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.9" class="external-link">pegboard (0.7.9)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.9" class="external-link">varnish (1.0.9)</a></p>
		</div>
		</footer>
</div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "LearningResource",
  "@id": "https://carpentries-incubator.github.io/write-readable-code/instructor/aio.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/LearningResource/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, Python, lesson, good practice, TDD, The Carpentries",
  "name": "All in One View",
  "creativeWorkStatus": "active",
  "url": "https://carpentries-incubator.github.io/write-readable-code/instructor/aio.html",
  "identifier": "https://carpentries-incubator.github.io/write-readable-code/instructor/aio.html",
  "dateCreated": "2025-01-29",
  "dateModified": "2026-01-06",
  "datePublished": "2026-01-06"
}

  </script><script>
		feather.replace();
	</script>
</body>
</html><!-- END:   inst/pkgdown/templates/layout.html-->

